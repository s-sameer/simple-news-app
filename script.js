// Data
const newsData = [
    {
        id: 1,
        title: "Scientists Discover New Species in Amazon Rainforest",
        description: "A team of international researchers has discovered a previously unknown species of amphibian in the depths of the Amazon rainforest. The new species, named Amazonian glass frog, has translucent skin that reveals its internal organs.",
        content: `<p>In a groundbreaking discovery, scientists from the International Biodiversity Research Institute have identified a new species of amphibian in the Amazon rainforest. The newly discovered species, scientifically named <em>Hyalinobatrachium amazonicum</em> and commonly known as the Amazonian glass frog, features remarkably translucent skin that allows a clear view of its internal organs.</p>

<p>"This discovery is significant because it helps us understand the incredible biodiversity that still remains undiscovered in the Amazon," said Dr. Elena Rodriguez, lead researcher on the expedition. "The Amazonian glass frog has unique adaptations that we've never seen in other amphibian species."</p>

<p>The team spent three months exploring remote areas of the rainforest before stumbling upon the new species in a secluded stream. The frogs measure approximately 2 centimeters in length and possess a distinctive call that researchers describe as "a series of high-pitched chirps followed by a trilling sound."</p>

<p>The discovery comes at a critical time, as deforestation and climate change continue to threaten the Amazon's ecosystem. Conservation efforts are already being planned to protect the habitat of this newly discovered species.</p>

<p>"Each new species we discover reinforces the importance of preserving these vital ecosystems," Dr. Rodriguez emphasized. "There's still so much we don't know about the incredible diversity of life in the Amazon."</p>

<p>The research team will continue their work in the region, hoping to identify more previously unknown species before they potentially disappear due to human activities.</p>`,
        category: "Science",
        author: "Michael Chen",
        publishedAt: "2025-03-05T09:30:00Z",
        imageUrl: "https://images.unsplash.com/photo-1599940824399-b87987ceb72a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
    },
    {
        id: 2,
        title: "Global Tech Conference Announces Revolutionary AI Framework",
        description: "TechWorld 2025 Conference unveiled a new open-source AI framework that promises to democratize access to advanced artificial intelligence tools for developers worldwide.",
        content: `<p>At the annual TechWorld 2025 Conference held in San Francisco this week, industry leaders unveiled a groundbreaking open-source AI framework called "NeuralCanvas" that promises to revolutionize how developers access and implement artificial intelligence in their applications.</p>

<p>The framework, developed by a consortium of tech companies including OpenMind Technologies and GlobalSoft, provides pre-built neural network architectures that previously required specialized knowledge and extensive computing resources to implement.</p>

<p>"NeuralCanvas represents a fundamental shift in AI accessibility," said Sarah Johnson, Chief Innovation Officer at OpenMind Technologies. "We're putting tools that were once available only to companies with massive R&D budgets into the hands of independent developers and smaller organizations."</p>

<p>Key features of the framework include:</p>
<ul>
  <li>Pre-trained models for common AI tasks like image recognition, natural language processing, and predictive analytics</li>
  <li>Low-code implementation options for developers with limited AI experience</li>
  <li>Optimization for edge computing devices, allowing AI processing on smartphones and IoT devices</li>
  <li>Comprehensive documentation and community support</li>
</ul>

<p>Early adopters have already begun implementing the framework in various applications, from healthcare diagnostic tools to environmental monitoring systems.</p>

<p>"This democratization of AI technology will accelerate innovation across all sectors," said Marcus Wong, conference chairperson. "We're especially excited to see what developers in emerging markets will create with these tools."</p>

<p>The framework is available for download starting today, with additional modules and features planned for release throughout the year.</p>`,
        category: "Technology",
        author: "Priya Sharma",
        publishedAt: "2025-03-04T14:15:00Z",
        imageUrl: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
    },
    {
        id: 3,
        title: "Sustainable City Initiative Transforms Urban Planning",
        description: "The GreenCity Project has completed its first phase, converting 30% of urban infrastructure to sustainable alternatives and reducing carbon emissions by 45%.",
        content: `<p>The GreenCity Project has successfully completed its first implementation phase, transforming a previously congested urban district into a model of sustainable development. The initiative, which began three years ago, has converted 30% of the district's infrastructure to sustainable alternatives and achieved a remarkable 45% reduction in carbon emissions.</p>

<p>"What we've accomplished here demonstrates that urban centers can be reimagined as environmentally positive spaces," said Urban Planning Director Jamal Washington. "This isn't just about reducing harm—it's about creating cities that actively contribute to environmental healing."</p>

<p>Key components of the transformation include:</p>
<ul>
  <li>Conversion of 12 miles of vehicle roads into pedestrian-only green corridors</li>
  <li>Installation of solar panels on 80% of public buildings</li>
  <li>Implementation of a district-wide water recycling system</li>
  <li>Creation of 15 new community gardens and urban farms</li>
  <li>Development of a zero-emission public transportation network</li>
</ul>

<p>The project has garnered international attention, with delegations from 23 cities worldwide visiting to study the implementation. Residents have reported higher satisfaction with their neighborhood, citing improved air quality, reduced noise pollution, and enhanced community spaces as major benefits.</p>

<p>"I've lived in this district for 25 years, and the transformation is remarkable," said local resident Maria Rodriguez. "My grandchildren can now play outside without me worrying about traffic or air pollution."</p>

<p>The initiative's second phase, set to begin next month, will expand the sustainable infrastructure to surrounding districts and focus on affordable housing integration.</p>`,
        category: "Environment",
        author: "David Okonkwo",
        publishedAt: "2025-03-03T11:45:00Z",
        imageUrl: "https://images.unsplash.com/photo-1518005020951-eccb494ad742?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
    },
    {
        id: 4,
        title: "Global Economy Shows Signs of Stable Growth After Pandemic Recovery",
        description: "Economic indicators point to sustained growth across major economies as post-pandemic recovery measures show lasting positive effects.",
        content: `<p>Recent economic data from the International Financial Council indicates that major economies worldwide are experiencing sustained growth following the turbulent post-pandemic recovery period. Analysts point to several key indicators suggesting a stabilization of global markets and resilient economic fundamentals.</p>

<p>"After several years of uncertainty, we're seeing clear patterns of sustainable growth across multiple sectors," said Dr. Nadia Patel, Chief Economist at Global Market Analytics. "The coordinated policy responses implemented during the recovery phase are now bearing fruit in ways that benefit broader segments of the economy."</p>

<p>Key indicators highlighted in the latest economic reports include:</p>
<ul>
  <li>Employment rates returning to pre-pandemic levels in 78% of developed economies</li>
  <li>Inflation stabilizing within target ranges for central banks in major economic zones</li>
  <li>Supply chain resilience showing marked improvement, with diversification strategies proving effective</li>
  <li>Small business formation rates exceeding pre-pandemic levels by 12% globally</li>
</ul>

<p>The report notes that while disparities between economic sectors remain, the overall trend shows more balanced growth than during the initial recovery phase. Tech-focused industries continue to outperform traditional sectors, but manufacturing and service industries are showing stronger performance than previously projected.</p>

<p>"What's particularly encouraging is the sustainability of this growth," explains Financial Policy Director Thomas Chen. "We're not seeing the overheating that often follows recovery periods, suggesting that regulatory measures have created more stable foundations."</p>

<p>Challenges remain, particularly regarding wealth inequality and climate transition costs, but the overall outlook for the coming fiscal year remains positive according to the majority of economic forecasters.</p>`,
        category: "Business",
        author: "Carlos Rodriguez",
        publishedAt: "2025-03-02T16:20:00Z",
        imageUrl: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
    },
    {
        id: 5,
        title: "International Arts Festival Celebrates Global Cultural Heritage",
        description: "The World Heritage Arts Festival opened this week featuring works from over 60 countries, highlighting traditional and contemporary expressions of cultural identity.",
        content: `<p>The World Heritage Arts Festival opened its doors this week in a celebration of global cultural diversity, featuring exhibitions, performances, and installations from artists representing more than 60 countries. The biennial event, now in its eighth iteration, has transformed the city's cultural district into a vibrant showcase of humanity's creative expression.</p>

<p>"In a world that sometimes seems increasingly divided, this festival reminds us of the universal language of art and our shared cultural heritage," said Festival Director Amara Okafor during the opening ceremony. "Each exhibit tells a story not just about a particular culture, but about our collective human experience."</p>

<p>This year's festival places special emphasis on indigenous art forms and the intersection between traditional practices and contemporary interpretation. Highlights include:</p>
<ul>
  <li>A collaborative installation created by indigenous artists from five continents</li>
  <li>A series of performances blending traditional music with contemporary compositions</li>
  <li>Interactive workshops where visitors can learn traditional craft techniques</li>
  <li>A digital gallery showcasing how technology is preserving endangered cultural practices</li>
</ul>

<p>"What makes this festival unique is that it's not simply a display of artifacts or performances—it's a living, breathing dialogue between cultures," explained curator Liu Wei. "When an artist from Peru collaborates with an artist from Thailand, something entirely new emerges while honoring both traditions."</p>

<p>The festival has attracted record attendance, with over 50,000 visitors in the first three days alone. Economic analysts estimate the event will generate approximately $25 million for the local economy while creating cultural exchanges that may lead to long-term artistic collaborations.</p>

<p>The World Heritage Arts Festival continues for three weeks, with rotating exhibitions and daily performance schedules available on the festival's website.</p>`,
        category: "Arts",
        author: "Isabella Gomez",
        publishedAt: "2025-03-01T13:10:00Z",
        imageUrl: "https://images.unsplash.com/photo-1547891654-e66ed7ebb968?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
    },
    {
        id: 6,
        title: "New Health Study Reveals Benefits of Intermittent Exercise",
        description: "Research published in the Medical Journal of Health Sciences suggests that short bursts of activity throughout the day may be more beneficial than single longer workouts.",
        content: `<p>A groundbreaking study published in the Medical Journal of Health Sciences challenges conventional exercise wisdom, suggesting that multiple short bursts of physical activity throughout the day may provide greater health benefits than a single, longer workout session.</p>

<p>The five-year longitudinal study followed 4,200 participants across different age groups and fitness levels. Researchers found that those who engaged in 3-5 minute high-intensity activities several times daily showed more significant improvements in cardiovascular health, insulin sensitivity, and cognitive function compared to those who performed traditional 30-45 minute exercise sessions.</p>

<p>"This research represents a paradigm shift in how we think about physical activity," said Dr. James Chen, the study's lead researcher. "For many people with busy schedules, finding time for a full workout can be challenging. Our findings suggest that incorporating mini-exercise sessions into daily routines can be not just a convenient alternative, but potentially more effective."</p>

<p>Key findings from the study include:</p>
<ul>
  <li>Participants who performed 5-6 short activity bursts daily showed a 27% greater improvement in heart rate variability than those doing single workout sessions</li>
  <li>Insulin sensitivity improved by 32% in the intermittent exercise group compared to 21% in the traditional exercise group</li>
  <li>Cognitive performance tests showed enhanced focus and decision-making capabilities among those practicing intermittent exercise</li>
  <li>Adherence rates were significantly higher in the intermittent exercise group (78% vs. 43%)</li>
</ul>

<p>"What's particularly interesting is the adherence rate," noted Dr. Sophia Williams, a cardiologist not involved in the study. "This approach may help people maintain exercise habits over the long term, which is ultimately more important than any specific workout regimen."</p>

<p>The researchers emphasize that both exercise approaches provide substantial health benefits, and the best approach is one that individuals can maintain consistently.</p>`,
        category: "Health",
        author: "Robert Kim",
        publishedAt: "2025-02-28T10:05:00Z",
        imageUrl: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
    }
];

// DOM Elements
const appContainer = document.getElementById('app-container');
const loadingElement = document.getElementById('loading');
const currentYearElement = document.getElementById('current-year');

// Set current year in footer
currentYearElement.textContent = new Date().getFullYear();

// Router
function parseUrl() {
    const url = window.location.hash.substring(1) || '/';
    const [path, queryString] = url.split('?');
    
    let params = {};
    if (queryString) {
        queryString.split('&').forEach(param => {
            const [key, value] = param.split('=');
            params[key] = value;
        });
    }
    
    const pathSegments = path.split('/').filter(Boolean);
    return { pathSegments, params };
}

function router() {
    const { pathSegments, params } = parseUrl();
    
    // Show loading indicator
    loadingElement.classList.remove('hidden');
    
    // Simulate network delay
    setTimeout(() => {
        if (pathSegments.length === 0 || pathSegments[0] === '') {
            // Home page
            renderHomePage();
        } else if (pathSegments[0] === 'article' && pathSegments[1]) {
            // Article detail page
            const articleId = parseInt(pathSegments[1]);
            renderArticlePage(articleId);
        } else {
            // 404 page
            renderNotFoundPage();
        }
        
        // Hide loading indicator
        loadingElement.classList.add('hidden');
    }, 300);
}

// Navigation functions
function navigateToHome() {
    window.location.hash = '/';
}

function navigateToArticle(articleId) {
    window.location.hash = `/article/${articleId}`;
}

// Render functions
function renderHomePage() {
    const articles = newsData;
    
    const homePageHTML = `
        <h1 class="page-title">Latest News</h1>
        <div class="news-grid">
            ${articles.map(article => `
                <div class="news-card" onclick="navigateToArticle(${article.id})">
                    ${article.imageUrl 
                        ? `<img src="${article.imageUrl}" alt="${article.title}" class="news-card-image">` 
                        : `<div class="news-card-image-placeholder"><p>No image available</p></div>`
                    }
                    <div class="news-card-content">
                        <h2 class="news-card-title">${article.title}</h2>
                        <p class="news-card-description">${article.description}</p>
                        <div class="news-card-footer">
                            <span class="news-card-date">${formatDate(article.publishedAt)}</span>
                            <span class="news-card-button">Read More</span>
                        </div>
                    </div>
                </div>
            `).join('')}
        </div>
    `;
    
    appContainer.innerHTML = homePageHTML;
}

function renderArticlePage(articleId) {
    const article = newsData.find(a => a.id === articleId);
    
    if (!article) {
        renderNotFoundPage();
        return;
    }
    
    const articlePageHTML = `
        <div class="article-page">
            <a href="#/" class="back-button">← Back to News</a>
            
            <article class="article">
                <h1 class="article-title">${article.title}</h1>
                
                <div class="article-meta">
                    <span>${article.author}</span>
                    <span class="meta-separator">•</span>
                    <span>${formatDate(article.publishedAt)}</span>
                    <span class="meta-separator">•</span>
                    <span class="article-category">${article.category}</span>
                </div>
                
                ${article.imageUrl 
                    ? `<img src="${article.imageUrl}" alt="${article.title}" class="article-image">` 
                    : ''
                }
                
                <div class="article-content">
                    ${article.content}
                </div>
            </article>
        </div>
    `;
    
    appContainer.innerHTML = articlePageHTML;
}

function renderNotFoundPage() {
    const notFoundHTML = `
        <div class="article-page">
            <h1 class="page-title">404 - Article Not Found</h1>
            <p style="text-align: center; margin-bottom: 2rem;">Sorry, the article you're looking for doesn't exist or has been removed.</p>
            <div style="text-align: center;">
                <button onclick="navigateToHome()" class="news-card-button" style="padding: 0.5rem 1rem;">Return to Home</button>
            </div>
        </div>
    `;
    
    appContainer.innerHTML = notFoundHTML;
}

// Utility functions
function formatDate(dateString) {
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return new Date(dateString).toLocaleDateString(undefined, options);
}

// Initialize
window.addEventListener('hashchange', router);
window.addEventListener('load', router);